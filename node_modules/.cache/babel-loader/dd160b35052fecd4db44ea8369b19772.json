{"ast":null,"code":"var _jsxFileName = \"/home/kodachi/Desktop/Frontend1/Frontend1/src/views/Pools/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport BigNumber from 'bignumber.js';\nimport { useWeb3React } from '@web3-react/core';\nimport { Heading, Flex, Image, Text } from '@pancakeswap/uikit';\nimport orderBy from 'lodash/orderBy';\nimport partition from 'lodash/partition';\nimport { useTranslation } from 'contexts/Localization';\nimport usePersistState from 'hooks/usePersistState';\nimport { usePools, useFetchCakeVault, useFetchPublicPoolsData, usePollFarmsData, useCakeVault } from 'state/hooks';\nimport { latinise } from 'utils/latinise';\nimport FlexLayout from 'components/Layout/Flex';\nimport Page from 'components/Layout/Page';\nimport PageHeader from 'components/PageHeader';\nimport SearchInput from 'components/SearchInput';\nimport Select from 'components/Select/Select';\nimport PoolCard from './components/PoolCard';\nimport CakeVaultCard from './components/CakeVaultCard';\nimport PoolTabButtons from './components/PoolTabButtons';\nimport BountyCard from './components/BountyCard';\nimport HelpButton from './components/HelpButton';\nimport PoolsTable from './components/PoolsTable/PoolsTable';\nimport { ViewMode } from './components/ToggleView/ToggleView';\nimport { getAprData, getCakeVaultEarnings } from './helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CardLayout = styled(FlexLayout)`\n  justify-content: center;\n`;\n_c = CardLayout;\nconst PoolControls = styled(Flex)`\n  flex-direction: column;\n  margin-bottom: 24px;\n  ${({\n  theme\n}) => theme.mediaQueries.md} {\n    flex-direction: row;\n  }\n`;\n_c2 = PoolControls;\nconst SearchSortContainer = styled(Flex)`\n  gap: 10px;\n  justify-content: space-between;\n`;\n_c3 = SearchSortContainer;\nconst ControlStretch = styled(Flex)`\n  > div {\n    flex: 1;\n  }\n`;\n_c4 = ControlStretch;\nconst NUMBER_OF_POOLS_VISIBLE = 12;\n\nconst Pools = () => {\n  _s();\n\n  const location = useLocation();\n  const {\n    t\n  } = useTranslation();\n  const {\n    account\n  } = useWeb3React();\n  const {\n    pools: poolsWithoutAutoVault,\n    userDataLoaded\n  } = usePools(account);\n  const [stakedOnly, setStakedOnly] = usePersistState(false, {\n    localStorageKey: 'pancake_pool_staked'\n  });\n  const [numberOfPoolsVisible, setNumberOfPoolsVisible] = useState(NUMBER_OF_POOLS_VISIBLE);\n  const [observerIsSet, setObserverIsSet] = useState(false);\n  const loadMoreRef = useRef(null);\n  const [viewMode, setViewMode] = usePersistState(ViewMode.TABLE, {\n    localStorageKey: 'pancake_farm_view'\n  });\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortOption, setSortOption] = useState('hot');\n  const {\n    userData: {\n      cakeAtLastUserAction,\n      userShares\n    },\n    fees: {\n      performanceFee\n    },\n    pricePerFullShare,\n    totalCakeInVault\n  } = useCakeVault();\n  const accountHasVaultShares = userShares && userShares.gt(0);\n  const performanceFeeAsDecimal = performanceFee && performanceFee / 100;\n  const pools = useMemo(() => {\n    const cakePool = poolsWithoutAutoVault.find(pool => pool.sousId === 0);\n    const cakeAutoVault = { ...cakePool,\n      isAutoVault: true\n    };\n    return [cakeAutoVault, ...poolsWithoutAutoVault];\n  }, [poolsWithoutAutoVault]); // TODO aren't arrays in dep array checked just by reference, i.e. it will rerender every time reference changes?\n\n  const [finishedPools, openPools] = useMemo(() => partition(pools, pool => pool.isFinished), [pools]);\n  const stakedOnlyFinishedPools = useMemo(() => finishedPools.filter(pool => {\n    if (pool.isAutoVault) {\n      return accountHasVaultShares;\n    }\n\n    return pool.userData && new BigNumber(pool.userData.stakedBalance).isGreaterThan(0);\n  }), [finishedPools, accountHasVaultShares]);\n  const stakedOnlyOpenPools = useMemo(() => openPools.filter(pool => {\n    if (pool.isAutoVault) {\n      return accountHasVaultShares;\n    }\n\n    return pool.userData && new BigNumber(pool.userData.stakedBalance).isGreaterThan(0);\n  }), [openPools, accountHasVaultShares]);\n  const hasStakeInFinishedPools = stakedOnlyFinishedPools.length > 0;\n  usePollFarmsData();\n  useFetchCakeVault();\n  useFetchPublicPoolsData();\n  useEffect(() => {\n    const showMorePools = entries => {\n      const [entry] = entries;\n\n      if (entry.isIntersecting) {\n        setNumberOfPoolsVisible(poolsCurrentlyVisible => poolsCurrentlyVisible + NUMBER_OF_POOLS_VISIBLE);\n      }\n    };\n\n    if (!observerIsSet) {\n      const loadMoreObserver = new IntersectionObserver(showMorePools, {\n        rootMargin: '0px',\n        threshold: 1\n      });\n      loadMoreObserver.observe(loadMoreRef.current);\n      setObserverIsSet(true);\n    }\n  }, [observerIsSet]);\n  const showFinishedPools = location.pathname.includes('history');\n\n  const handleChangeSearchQuery = event => {\n    setSearchQuery(event.target.value);\n  };\n\n  const handleSortOptionChange = option => {\n    setSortOption(option.value);\n  };\n\n  const sortPools = poolsToSort => {\n    switch (sortOption) {\n      case 'apr':\n        // Ternary is needed to prevent pools without APR (like MIX) getting top spot\n        return orderBy(poolsToSort, pool => pool.apr ? getAprData(pool, performanceFeeAsDecimal).apr : 0, 'desc');\n\n      case 'earned':\n        return orderBy(poolsToSort, pool => {\n          if (!pool.userData || !pool.earningTokenPrice) {\n            return 0;\n          }\n\n          return pool.isAutoVault ? getCakeVaultEarnings(account, cakeAtLastUserAction, userShares, pricePerFullShare, pool.earningTokenPrice).autoUsdToDisplay : pool.userData.pendingReward.times(pool.earningTokenPrice).toNumber();\n        }, 'desc');\n\n      case 'totalStaked':\n        return orderBy(poolsToSort, pool => pool.isAutoVault ? totalCakeInVault.toNumber() : pool.totalStaked.toNumber(), 'desc');\n\n      default:\n        return poolsToSort;\n    }\n  };\n\n  const poolsToShow = () => {\n    let chosenPools = [];\n\n    if (showFinishedPools) {\n      chosenPools = stakedOnly ? stakedOnlyFinishedPools : finishedPools;\n    } else {\n      chosenPools = stakedOnly ? stakedOnlyOpenPools : openPools;\n    }\n\n    if (searchQuery) {\n      const lowercaseQuery = latinise(searchQuery.toLowerCase());\n      chosenPools = chosenPools.filter(pool => latinise(pool.earningToken.symbol.toLowerCase()).includes(lowercaseQuery));\n    }\n\n    return sortPools(chosenPools).slice(0, numberOfPoolsVisible);\n  };\n\n  const cardLayout = /*#__PURE__*/_jsxDEV(CardLayout, {\n    children: poolsToShow().map(pool => pool.isAutoVault ? /*#__PURE__*/_jsxDEV(CakeVaultCard, {\n      pool: pool,\n      showStakedOnly: stakedOnly\n    }, \"auto-cake\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(PoolCard, {\n      pool: pool,\n      account: account\n    }, pool.sousId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n\n  const tableLayout = /*#__PURE__*/_jsxDEV(PoolsTable, {\n    pools: poolsToShow(),\n    account: account,\n    userDataLoaded: userDataLoaded\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 23\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        flexDirection: ['column', null, null, 'row'],\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          flex: \"1\",\n          flexDirection: \"column\",\n          mr: ['8px', 0],\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            as: \"h1\",\n            scale: \"xxl\",\n            color: \"secondary\",\n            mb: \"24px\",\n            children: t('TOCO Nests')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Heading, {\n            scale: \"md\",\n            color: \"text\",\n            children: t('Sustainably High Yields Brought to You by the Toucans.')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Heading, {\n            scale: \"md\",\n            color: \"text\",\n            children: t('The First BSC Yield Farm Powered By Proprietary AI Algorithms.')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Flex, {\n          flex: \"1\",\n          height: \"fit-content\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          mt: ['24px', null, '0'],\n          children: [/*#__PURE__*/_jsxDEV(HelpButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BountyCard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Page, {\n      children: [/*#__PURE__*/_jsxDEV(PoolControls, {\n        justifyContent: \"space-between\",\n        children: [/*#__PURE__*/_jsxDEV(PoolTabButtons, {\n          stakedOnly: stakedOnly,\n          setStakedOnly: setStakedOnly,\n          hasStakeInFinishedPools: hasStakeInFinishedPools,\n          viewMode: viewMode,\n          setViewMode: setViewMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchSortContainer, {\n          children: [/*#__PURE__*/_jsxDEV(Flex, {\n            flexDirection: \"column\",\n            width: \"50%\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"12px\",\n              bold: true,\n              color: \"textSubtle\",\n              textTransform: \"uppercase\",\n              children: t('Sort by')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ControlStretch, {\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                options: [{\n                  label: t('Hot'),\n                  value: 'hot'\n                }, {\n                  label: t('APR'),\n                  value: 'apr'\n                }, {\n                  label: t('Earned'),\n                  value: 'earned'\n                }, {\n                  label: t('Total staked'),\n                  value: 'totalStaked'\n                }],\n                onChange: handleSortOptionChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Flex, {\n            flexDirection: \"column\",\n            width: \"50%\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"12px\",\n              bold: true,\n              color: \"textSubtle\",\n              textTransform: \"uppercase\",\n              children: t('Search')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ControlStretch, {\n              children: /*#__PURE__*/_jsxDEV(SearchInput, {\n                onChange: handleChangeSearchQuery,\n                placeholder: \"Search Pools\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), showFinishedPools && /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"20px\",\n        color: \"failure\",\n        pb: \"32px\",\n        children: t('These pools are no longer distributing rewards. Please unstake your tokens.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this), viewMode === ViewMode.CARD ? cardLayout : tableLayout, /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: loadMoreRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Image, {\n        mx: \"auto\",\n        mt: \"12px\",\n        src: \"/images/decorations/3d-syrup-bunnies.png\",\n        alt: \"Pancake illustration\",\n        width: 192,\n        height: 184.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Pools, \"OVFKk3yyImCPKnyLJ5Qm/rymZ38=\", false, function () {\n  return [useLocation, useTranslation, useWeb3React, usePools, usePersistState, usePersistState, useCakeVault, usePollFarmsData, useFetchCakeVault, useFetchPublicPoolsData];\n});\n\n_c5 = Pools;\nexport default Pools;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"CardLayout\");\n$RefreshReg$(_c2, \"PoolControls\");\n$RefreshReg$(_c3, \"SearchSortContainer\");\n$RefreshReg$(_c4, \"ControlStretch\");\n$RefreshReg$(_c5, \"Pools\");","map":{"version":3,"sources":["/home/kodachi/Desktop/Frontend1/Frontend1/src/views/Pools/index.tsx"],"names":["React","useEffect","useMemo","useRef","useState","useLocation","styled","BigNumber","useWeb3React","Heading","Flex","Image","Text","orderBy","partition","useTranslation","usePersistState","usePools","useFetchCakeVault","useFetchPublicPoolsData","usePollFarmsData","useCakeVault","latinise","FlexLayout","Page","PageHeader","SearchInput","Select","PoolCard","CakeVaultCard","PoolTabButtons","BountyCard","HelpButton","PoolsTable","ViewMode","getAprData","getCakeVaultEarnings","CardLayout","PoolControls","theme","mediaQueries","md","SearchSortContainer","ControlStretch","NUMBER_OF_POOLS_VISIBLE","Pools","location","t","account","pools","poolsWithoutAutoVault","userDataLoaded","stakedOnly","setStakedOnly","localStorageKey","numberOfPoolsVisible","setNumberOfPoolsVisible","observerIsSet","setObserverIsSet","loadMoreRef","viewMode","setViewMode","TABLE","searchQuery","setSearchQuery","sortOption","setSortOption","userData","cakeAtLastUserAction","userShares","fees","performanceFee","pricePerFullShare","totalCakeInVault","accountHasVaultShares","gt","performanceFeeAsDecimal","cakePool","find","pool","sousId","cakeAutoVault","isAutoVault","finishedPools","openPools","isFinished","stakedOnlyFinishedPools","filter","stakedBalance","isGreaterThan","stakedOnlyOpenPools","hasStakeInFinishedPools","length","showMorePools","entries","entry","isIntersecting","poolsCurrentlyVisible","loadMoreObserver","IntersectionObserver","rootMargin","threshold","observe","current","showFinishedPools","pathname","includes","handleChangeSearchQuery","event","target","value","handleSortOptionChange","option","sortPools","poolsToSort","apr","earningTokenPrice","autoUsdToDisplay","pendingReward","times","toNumber","totalStaked","poolsToShow","chosenPools","lowercaseQuery","toLowerCase","earningToken","symbol","slice","cardLayout","map","tableLayout","label","CARD"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport styled from 'styled-components'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { Heading, Flex, Image, Text } from '@pancakeswap/uikit'\nimport orderBy from 'lodash/orderBy'\nimport partition from 'lodash/partition'\nimport { useTranslation } from 'contexts/Localization'\nimport usePersistState from 'hooks/usePersistState'\nimport { usePools, useFetchCakeVault, useFetchPublicPoolsData, usePollFarmsData, useCakeVault } from 'state/hooks'\nimport { latinise } from 'utils/latinise'\nimport FlexLayout from 'components/Layout/Flex'\nimport Page from 'components/Layout/Page'\nimport PageHeader from 'components/PageHeader'\nimport SearchInput from 'components/SearchInput'\nimport Select, { OptionProps } from 'components/Select/Select'\nimport { Pool } from 'state/types'\nimport PoolCard from './components/PoolCard'\nimport CakeVaultCard from './components/CakeVaultCard'\nimport PoolTabButtons from './components/PoolTabButtons'\nimport BountyCard from './components/BountyCard'\nimport HelpButton from './components/HelpButton'\nimport PoolsTable from './components/PoolsTable/PoolsTable'\nimport { ViewMode } from './components/ToggleView/ToggleView'\nimport { getAprData, getCakeVaultEarnings } from './helpers'\n\nconst CardLayout = styled(FlexLayout)`\n  justify-content: center;\n`\n\nconst PoolControls = styled(Flex)`\n  flex-direction: column;\n  margin-bottom: 24px;\n  ${({ theme }) => theme.mediaQueries.md} {\n    flex-direction: row;\n  }\n`\n\nconst SearchSortContainer = styled(Flex)`\n  gap: 10px;\n  justify-content: space-between;\n`\n\nconst ControlStretch = styled(Flex)`\n  > div {\n    flex: 1;\n  }\n`\n\nconst NUMBER_OF_POOLS_VISIBLE = 12\n\nconst Pools: React.FC = () => {\n  const location = useLocation()\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const { pools: poolsWithoutAutoVault, userDataLoaded } = usePools(account)\n  const [stakedOnly, setStakedOnly] = usePersistState(false, { localStorageKey: 'pancake_pool_staked' })\n  const [numberOfPoolsVisible, setNumberOfPoolsVisible] = useState(NUMBER_OF_POOLS_VISIBLE)\n  const [observerIsSet, setObserverIsSet] = useState(false)\n  const loadMoreRef = useRef<HTMLDivElement>(null)\n  const [viewMode, setViewMode] = usePersistState(ViewMode.TABLE, { localStorageKey: 'pancake_farm_view' })\n  const [searchQuery, setSearchQuery] = useState('')\n  const [sortOption, setSortOption] = useState('hot')\n  const {\n    userData: { cakeAtLastUserAction, userShares },\n    fees: { performanceFee },\n    pricePerFullShare,\n    totalCakeInVault,\n  } = useCakeVault()\n  const accountHasVaultShares = userShares && userShares.gt(0)\n  const performanceFeeAsDecimal = performanceFee && performanceFee / 100\n\n  const pools = useMemo(() => {\n    const cakePool = poolsWithoutAutoVault.find((pool) => pool.sousId === 0)\n    const cakeAutoVault = { ...cakePool, isAutoVault: true }\n    return [cakeAutoVault, ...poolsWithoutAutoVault]\n  }, [poolsWithoutAutoVault])\n\n  // TODO aren't arrays in dep array checked just by reference, i.e. it will rerender every time reference changes?\n  const [finishedPools, openPools] = useMemo(() => partition(pools, (pool) => pool.isFinished), [pools])\n  const stakedOnlyFinishedPools = useMemo(\n    () =>\n      finishedPools.filter((pool) => {\n        if (pool.isAutoVault) {\n          return accountHasVaultShares\n        }\n        return pool.userData && new BigNumber(pool.userData.stakedBalance).isGreaterThan(0)\n      }),\n    [finishedPools, accountHasVaultShares],\n  )\n  const stakedOnlyOpenPools = useMemo(\n    () =>\n      openPools.filter((pool) => {\n        if (pool.isAutoVault) {\n          return accountHasVaultShares\n        }\n        return pool.userData && new BigNumber(pool.userData.stakedBalance).isGreaterThan(0)\n      }),\n    [openPools, accountHasVaultShares],\n  )\n  const hasStakeInFinishedPools = stakedOnlyFinishedPools.length > 0\n\n  usePollFarmsData()\n  useFetchCakeVault()\n  useFetchPublicPoolsData()\n\n  useEffect(() => {\n    const showMorePools = (entries) => {\n      const [entry] = entries\n      if (entry.isIntersecting) {\n        setNumberOfPoolsVisible((poolsCurrentlyVisible) => poolsCurrentlyVisible + NUMBER_OF_POOLS_VISIBLE)\n      }\n    }\n\n    if (!observerIsSet) {\n      const loadMoreObserver = new IntersectionObserver(showMorePools, {\n        rootMargin: '0px',\n        threshold: 1,\n      })\n      loadMoreObserver.observe(loadMoreRef.current)\n      setObserverIsSet(true)\n    }\n  }, [observerIsSet])\n\n  const showFinishedPools = location.pathname.includes('history')\n\n  const handleChangeSearchQuery = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value)\n  }\n\n  const handleSortOptionChange = (option: OptionProps): void => {\n    setSortOption(option.value)\n  }\n\n  const sortPools = (poolsToSort: Pool[]) => {\n    switch (sortOption) {\n      case 'apr':\n        // Ternary is needed to prevent pools without APR (like MIX) getting top spot\n        return orderBy(\n          poolsToSort,\n          (pool: Pool) => (pool.apr ? getAprData(pool, performanceFeeAsDecimal).apr : 0),\n          'desc',\n        )\n      case 'earned':\n        return orderBy(\n          poolsToSort,\n          (pool: Pool) => {\n            if (!pool.userData || !pool.earningTokenPrice) {\n              return 0\n            }\n            return pool.isAutoVault\n              ? getCakeVaultEarnings(\n                  account,\n                  cakeAtLastUserAction,\n                  userShares,\n                  pricePerFullShare,\n                  pool.earningTokenPrice,\n                ).autoUsdToDisplay\n              : pool.userData.pendingReward.times(pool.earningTokenPrice).toNumber()\n          },\n          'desc',\n        )\n      case 'totalStaked':\n        return orderBy(\n          poolsToSort,\n          (pool: Pool) => (pool.isAutoVault ? totalCakeInVault.toNumber() : pool.totalStaked.toNumber()),\n          'desc',\n        )\n      default:\n        return poolsToSort\n    }\n  }\n\n  const poolsToShow = () => {\n    let chosenPools = []\n    if (showFinishedPools) {\n      chosenPools = stakedOnly ? stakedOnlyFinishedPools : finishedPools\n    } else {\n      chosenPools = stakedOnly ? stakedOnlyOpenPools : openPools\n    }\n\n    if (searchQuery) {\n      const lowercaseQuery = latinise(searchQuery.toLowerCase())\n      chosenPools = chosenPools.filter((pool) =>\n        latinise(pool.earningToken.symbol.toLowerCase()).includes(lowercaseQuery),\n      )\n    }\n\n    return sortPools(chosenPools).slice(0, numberOfPoolsVisible)\n  }\n\n  const cardLayout = (\n    <CardLayout>\n      {poolsToShow().map((pool) =>\n        pool.isAutoVault ? (\n          <CakeVaultCard key=\"auto-cake\" pool={pool} showStakedOnly={stakedOnly} />\n        ) : (\n          <PoolCard key={pool.sousId} pool={pool} account={account} />\n        ),\n      )}\n    </CardLayout>\n  )\n\n  const tableLayout = <PoolsTable pools={poolsToShow()} account={account} userDataLoaded={userDataLoaded} />\n\n  return (\n    <>\n      <PageHeader>\n        <Flex justifyContent=\"space-between\" flexDirection={['column', null, null, 'row']}>\n          <Flex flex=\"1\" flexDirection=\"column\" mr={['8px', 0]}>\n            <Heading as=\"h1\" scale=\"xxl\" color=\"secondary\" mb=\"24px\">\n              {t('TOCO Nests')}\n            </Heading>\n            <Heading scale=\"md\" color=\"text\">\n              {t('Sustainably High Yields Brought to You by the Toucans.')}\n            </Heading>\n            <Heading scale=\"md\" color=\"text\">\n              {t('The First BSC Yield Farm Powered By Proprietary AI Algorithms.')}\n            </Heading>\n          </Flex>\n          <Flex flex=\"1\" height=\"fit-content\" justifyContent=\"center\" alignItems=\"center\" mt={['24px', null, '0']}>\n            <HelpButton />\n            <BountyCard />\n          </Flex>\n        </Flex>\n      </PageHeader>\n      <Page>\n        <PoolControls justifyContent=\"space-between\">\n          <PoolTabButtons\n            stakedOnly={stakedOnly}\n            setStakedOnly={setStakedOnly}\n            hasStakeInFinishedPools={hasStakeInFinishedPools}\n            viewMode={viewMode}\n            setViewMode={setViewMode}\n          />\n          <SearchSortContainer>\n            <Flex flexDirection=\"column\" width=\"50%\">\n              <Text fontSize=\"12px\" bold color=\"textSubtle\" textTransform=\"uppercase\">\n                {t('Sort by')}\n              </Text>\n              <ControlStretch>\n                <Select\n                  options={[\n                    {\n                      label: t('Hot'),\n                      value: 'hot',\n                    },\n                    {\n                      label: t('APR'),\n                      value: 'apr',\n                    },\n                    {\n                      label: t('Earned'),\n                      value: 'earned',\n                    },\n                    {\n                      label: t('Total staked'),\n                      value: 'totalStaked',\n                    },\n                  ]}\n                  onChange={handleSortOptionChange}\n                />\n              </ControlStretch>\n            </Flex>\n            <Flex flexDirection=\"column\" width=\"50%\">\n              <Text fontSize=\"12px\" bold color=\"textSubtle\" textTransform=\"uppercase\">\n                {t('Search')}\n              </Text>\n              <ControlStretch>\n                <SearchInput onChange={handleChangeSearchQuery} placeholder=\"Search Pools\" />\n              </ControlStretch>\n            </Flex>\n          </SearchSortContainer>\n        </PoolControls>\n        {showFinishedPools && (\n          <Text fontSize=\"20px\" color=\"failure\" pb=\"32px\">\n            {t('These pools are no longer distributing rewards. Please unstake your tokens.')}\n          </Text>\n        )}\n        {viewMode === ViewMode.CARD ? cardLayout : tableLayout}\n        <div ref={loadMoreRef} />\n        <Image\n          mx=\"auto\"\n          mt=\"12px\"\n          src=\"/images/decorations/3d-syrup-bunnies.png\"\n          alt=\"Pancake illustration\"\n          width={192}\n          height={184.5}\n        />\n      </Page>\n    </>\n  )\n}\n\nexport default Pools\n"]},"metadata":{},"sourceType":"module"}