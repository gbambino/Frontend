{"ast":null,"code":"var _jsxFileName = \"/home/kodachi/Desktop/Frontend1/src/views/Collectibles/components/NftCard/BunnySpeciaPredictionCard.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport { useSpecialBunnyPredictionContract } from 'hooks/useContract';\nimport { getBunnySpecialPredictionContract } from 'utils/contractHelpers';\nimport NftCard from './index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BunnySpecialPredictionCard = ({\n  nft,\n  ...props\n}) => {\n  _s();\n\n  const [isClaimable, setIsClaimable] = useState(false);\n  const {\n    account\n  } = useWeb3React();\n  const bunnySpecialPredictionContract = useSpecialBunnyPredictionContract();\n  const {\n    variationId\n  } = nft;\n\n  const handleClaim = async () => {\n    const response = await bunnySpecialPredictionContract.mintNFT();\n    await response.wait();\n    setIsClaimable(false);\n    return response;\n  };\n\n  useEffect(() => {\n    const fetchClaimStatus = async () => {\n      const contract = getBunnySpecialPredictionContract();\n      const canClaim = await contract.canClaim(account);\n      setIsClaimable(canClaim);\n    };\n\n    if (account) {\n      fetchClaimStatus();\n    }\n  }, [account, variationId, setIsClaimable]);\n  return /*#__PURE__*/_jsxDEV(NftCard, {\n    nft: nft,\n    ...props,\n    canClaim: isClaimable,\n    onClaim: handleClaim\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 10\n  }, this);\n};\n\n_s(BunnySpecialPredictionCard, \"hJGRV72gZYQltdU3tq/FTq0yC8g=\", false, function () {\n  return [useWeb3React, useSpecialBunnyPredictionContract];\n});\n\n_c = BunnySpecialPredictionCard;\nexport default BunnySpecialPredictionCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"BunnySpecialPredictionCard\");","map":{"version":3,"sources":["/home/kodachi/Desktop/Frontend1/src/views/Collectibles/components/NftCard/BunnySpeciaPredictionCard.tsx"],"names":["React","useEffect","useState","useWeb3React","useSpecialBunnyPredictionContract","getBunnySpecialPredictionContract","NftCard","BunnySpecialPredictionCard","nft","props","isClaimable","setIsClaimable","account","bunnySpecialPredictionContract","variationId","handleClaim","response","mintNFT","wait","fetchClaimStatus","contract","canClaim"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,SAASC,iCAAT,QAAkD,mBAAlD;AACA,SAASC,iCAAT,QAAkD,uBAAlD;AACA,OAAOC,OAAP,MAAsC,SAAtC;;;AAEA,MAAMC,0BAAkD,GAAG,CAAC;AAAEC,EAAAA,GAAF;AAAO,KAAGC;AAAV,CAAD,KAAuB;AAAA;;AAChF,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAcT,YAAY,EAAhC;AACA,QAAMU,8BAA8B,GAAGT,iCAAiC,EAAxE;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAkBN,GAAxB;;AAEA,QAAMO,WAAW,GAAG,YAAY;AAC9B,UAAMC,QAA8C,GAAG,MAAMH,8BAA8B,CAACI,OAA/B,EAA7D;AACA,UAAMD,QAAQ,CAACE,IAAT,EAAN;AACAP,IAAAA,cAAc,CAAC,KAAD,CAAd;AACA,WAAOK,QAAP;AACD,GALD;;AAOAf,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,gBAAgB,GAAG,YAAY;AACnC,YAAMC,QAAQ,GAAGf,iCAAiC,EAAlD;AACA,YAAMgB,QAAQ,GAAG,MAAMD,QAAQ,CAACC,QAAT,CAAkBT,OAAlB,CAAvB;AACAD,MAAAA,cAAc,CAACU,QAAD,CAAd;AACD,KAJD;;AAMA,QAAIT,OAAJ,EAAa;AACXO,MAAAA,gBAAgB;AACjB;AACF,GAVQ,EAUN,CAACP,OAAD,EAAUE,WAAV,EAAuBH,cAAvB,CAVM,CAAT;AAYA,sBAAO,QAAC,OAAD;AAAS,IAAA,GAAG,EAAEH,GAAd;AAAA,OAAuBC,KAAvB;AAA8B,IAAA,QAAQ,EAAEC,WAAxC;AAAqD,IAAA,OAAO,EAAEK;AAA9D;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CA1BD;;GAAMR,0B;UAEgBJ,Y,EACmBC,iC;;;KAHnCG,0B;AA4BN,eAAeA,0BAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { ethers } from 'ethers'\nimport { useSpecialBunnyPredictionContract } from 'hooks/useContract'\nimport { getBunnySpecialPredictionContract } from 'utils/contractHelpers'\nimport NftCard, { NftCardProps } from './index'\n\nconst BunnySpecialPredictionCard: React.FC<NftCardProps> = ({ nft, ...props }) => {\n  const [isClaimable, setIsClaimable] = useState(false)\n  const { account } = useWeb3React()\n  const bunnySpecialPredictionContract = useSpecialBunnyPredictionContract()\n  const { variationId } = nft\n\n  const handleClaim = async () => {\n    const response: ethers.providers.TransactionResponse = await bunnySpecialPredictionContract.mintNFT()\n    await response.wait()\n    setIsClaimable(false)\n    return response\n  }\n\n  useEffect(() => {\n    const fetchClaimStatus = async () => {\n      const contract = getBunnySpecialPredictionContract()\n      const canClaim = await contract.canClaim(account)\n      setIsClaimable(canClaim)\n    }\n\n    if (account) {\n      fetchClaimStatus()\n    }\n  }, [account, variationId, setIsClaimable])\n\n  return <NftCard nft={nft} {...props} canClaim={isClaimable} onClaim={handleClaim} />\n}\n\nexport default BunnySpecialPredictionCard\n"]},"metadata":{},"sourceType":"module"}