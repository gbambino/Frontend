{"ast":null,"code":"var _jsxFileName = \"/home/kodachi/Desktop/Frontend1/Frontend1/src/views/Pools/components/PoolsTable/ActionPanel/ActionPanel.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styled, { keyframes, css } from 'styled-components';\nimport { Box, Button, Flex, HelpIcon, Link, LinkExternal, MetamaskIcon, Skeleton, Text, TimerIcon, useTooltip } from '@pancakeswap/uikit';\nimport { BASE_BSC_SCAN_URL, BASE_URL } from 'config';\nimport { getBscScanBlockCountdownUrl } from 'utils/bscscan';\nimport { useBlock, useCakeVault } from 'state/hooks';\nimport BigNumber from 'bignumber.js';\nimport { useTranslation } from 'contexts/Localization';\nimport Balance from 'components/Balance';\nimport { CompoundingPoolTag, ManualPoolTag } from 'components/Tags';\nimport { getAddress, getCakeVaultAddress } from 'utils/addressHelpers';\nimport { registerToken } from 'utils/wallet';\nimport { getBalanceNumber, getFullDisplayBalance } from 'utils/formatBalance';\nimport { getPoolBlockInfo } from 'views/Pools/helpers';\nimport Harvest from './Harvest';\nimport Stake from './Stake';\nimport Apr from '../Apr';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst expandAnimation = keyframes`\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 700px;\n  }\n`;\nconst collapseAnimation = keyframes`\n  from {\n    max-height: 700px;\n  }\n  to {\n    max-height: 0px;\n  }\n`;\nconst StyledActionPanel = styled.div`\n  animation: ${({\n  expanded\n}) => expanded ? css`\n          ${expandAnimation} 300ms linear forwards\n        ` : css`\n          ${collapseAnimation} 300ms linear forwards\n        `};\n  overflow: hidden;\n  background: ${({\n  theme\n}) => theme.colors.dropdown};\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: center;\n  padding: 12px;\n\n  ${({\n  theme\n}) => theme.mediaQueries.lg} {\n    flex-direction: row;\n    padding: 16px 32px;\n  }\n`;\n_c = StyledActionPanel;\nconst ActionContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  ${({\n  theme\n}) => theme.mediaQueries.sm} {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n    flex-basis: 0;\n  }\n`;\n_c2 = ActionContainer;\nconst InfoSection = styled(Box)`\n  flex-grow: 0;\n  flex-shrink: 0;\n  flex-basis: auto;\n  padding: 8px 8px;\n  ${({\n  theme\n}) => theme.mediaQueries.lg} {\n    padding: 0;\n    flex-basis: 230px;\n  }\n`;\n_c3 = InfoSection;\n\nconst ActionPanel = ({\n  account,\n  pool,\n  userDataLoaded,\n  expanded,\n  breakpoints\n}) => {\n  _s();\n\n  var _window$ethereum;\n\n  const {\n    sousId,\n    stakingToken,\n    earningToken,\n    totalStaked,\n    startBlock,\n    endBlock,\n    stakingLimit,\n    contractAddress,\n    isAutoVault\n  } = pool;\n  const {\n    t\n  } = useTranslation();\n  const poolContractAddress = getAddress(contractAddress);\n  const cakeVaultContractAddress = getCakeVaultAddress();\n  const {\n    currentBlock\n  } = useBlock();\n  const {\n    isXs,\n    isSm,\n    isMd\n  } = breakpoints;\n  const showSubtitle = (isXs || isSm) && sousId === 0;\n  const {\n    shouldShowBlockCountdown,\n    blocksUntilStart,\n    blocksRemaining,\n    hasPoolStarted,\n    blocksToDisplay\n  } = getPoolBlockInfo(pool, currentBlock);\n  const isMetaMaskInScope = !!((_window$ethereum = window.ethereum) === null || _window$ethereum === void 0 ? void 0 : _window$ethereum.isMetaMask);\n  const tokenAddress = earningToken.address ? getAddress(earningToken.address) : '';\n  const imageSrc = `${BASE_URL}/images/tokens/${tokenAddress}.png`;\n  const {\n    totalCakeInVault,\n    fees: {\n      performanceFee\n    }\n  } = useCakeVault();\n  const performanceFeeAsDecimal = performanceFee && performanceFee / 100;\n  const isManualCakePool = sousId === 0;\n\n  const getTotalStakedBalance = () => {\n    if (isAutoVault) {\n      return getBalanceNumber(totalCakeInVault, stakingToken.decimals);\n    }\n\n    if (isManualCakePool) {\n      const manualCakeTotalMinusAutoVault = new BigNumber(totalStaked).minus(totalCakeInVault);\n      return getBalanceNumber(manualCakeTotalMinusAutoVault, stakingToken.decimals);\n    }\n\n    return getBalanceNumber(totalStaked, stakingToken.decimals);\n  };\n\n  const {\n    targetRef: totalStakedTargetRef,\n    tooltip: totalStakedTooltip,\n    tooltipVisible: totalStakedTooltipVisible\n  } = useTooltip(t('Total amount of %symbol% staked in this pool', {\n    symbol: stakingToken.symbol\n  }), {\n    placement: 'bottom'\n  });\n  const manualTooltipText = t('You must harvest and compound your earnings from this pool manually.');\n  const autoTooltipText = t('Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you.');\n  const {\n    targetRef: tagTargetRef,\n    tooltip: tagTooltip,\n    tooltipVisible: tagTooltipVisible\n  } = useTooltip(isAutoVault ? autoTooltipText : manualTooltipText, {\n    placement: 'bottom-start'\n  });\n  const maxStakeRow = stakingLimit.gt(0) ? /*#__PURE__*/_jsxDEV(Flex, {\n    mb: \"8px\",\n    justifyContent: \"space-between\",\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      children: [t('Max. stake per user'), \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      children: `${getFullDisplayBalance(stakingLimit, stakingToken.decimals, 0)} ${stakingToken.symbol}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this) : null;\n  const blocksRow = blocksRemaining || blocksUntilStart ? /*#__PURE__*/_jsxDEV(Flex, {\n    mb: \"8px\",\n    justifyContent: \"space-between\",\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      children: [hasPoolStarted ? t('Ends in') : t('Starts in'), \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        external: true,\n        href: getBscScanBlockCountdownUrl(hasPoolStarted ? endBlock : startBlock),\n        children: [/*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"16px\",\n          value: blocksToDisplay,\n          decimals: 0,\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          ml: \"4px\",\n          color: \"primary\",\n          textTransform: \"lowercase\",\n          children: t('Blocks')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TimerIcon, {\n          ml: \"4px\",\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(Skeleton, {\n    width: \"56px\",\n    height: \"16px\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 7\n  }, this);\n\n  const aprRow = /*#__PURE__*/_jsxDEV(Flex, {\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    mb: \"8px\",\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      children: [isAutoVault ? t('APY') : t('APR'), \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Apr, {\n      pool: pool,\n      showIcon: true,\n      performanceFee: isAutoVault ? performanceFeeAsDecimal : 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n\n  const totalStakedRow = /*#__PURE__*/_jsxDEV(Flex, {\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    mb: \"8px\",\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      maxWidth: ['50px', '100%'],\n      children: [t('Total staked'), \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      alignItems: \"center\",\n      children: [totalStaked && totalStaked.gte(0) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"16px\",\n          value: getTotalStakedBalance(),\n          decimals: 0,\n          unit: ` ${stakingToken.symbol}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          ref: totalStakedTargetRef,\n          children: /*#__PURE__*/_jsxDEV(HelpIcon, {\n            color: \"textSubtle\",\n            width: \"20px\",\n            ml: \"4px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Skeleton, {\n        width: \"56px\",\n        height: \"16px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), totalStakedTooltipVisible && totalStakedTooltip]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(StyledActionPanel, {\n    expanded: expanded,\n    children: [/*#__PURE__*/_jsxDEV(InfoSection, {\n      children: [maxStakeRow, (isXs || isSm) && aprRow, (isXs || isSm || isMd) && totalStakedRow, shouldShowBlockCountdown && blocksRow, /*#__PURE__*/_jsxDEV(Flex, {\n        mb: \"8px\",\n        justifyContent: ['flex-end', 'flex-end', 'flex-start'],\n        children: /*#__PURE__*/_jsxDEV(LinkExternal, {\n          href: `https://pancakeswap.info/token/${getAddress(earningToken.address)}`,\n          bold: false,\n          children: t('See Token Info')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        mb: \"8px\",\n        justifyContent: ['flex-end', 'flex-end', 'flex-start'],\n        children: /*#__PURE__*/_jsxDEV(LinkExternal, {\n          href: earningToken.projectLink,\n          bold: false,\n          children: t('View Project Site')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), poolContractAddress && /*#__PURE__*/_jsxDEV(Flex, {\n        mb: \"8px\",\n        justifyContent: ['flex-end', 'flex-end', 'flex-start'],\n        children: /*#__PURE__*/_jsxDEV(LinkExternal, {\n          href: `${BASE_BSC_SCAN_URL}/address/${isAutoVault ? cakeVaultContractAddress : poolContractAddress}`,\n          bold: false,\n          children: t('View Contract')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this), account && isMetaMaskInScope && tokenAddress && /*#__PURE__*/_jsxDEV(Flex, {\n        mb: \"8px\",\n        justifyContent: ['flex-end', 'flex-end', 'flex-start'],\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"text\",\n          p: \"0\",\n          height: \"auto\",\n          onClick: () => registerToken(tokenAddress, earningToken.symbol, earningToken.decimals, imageSrc),\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            color: \"primary\",\n            children: t('Add to Metamask')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MetamaskIcon, {\n            ml: \"4px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), isAutoVault ? /*#__PURE__*/_jsxDEV(CompoundingPoolTag, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 24\n      }, this) : /*#__PURE__*/_jsxDEV(ManualPoolTag, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 49\n      }, this), tagTooltipVisible && tagTooltip, /*#__PURE__*/_jsxDEV(\"span\", {\n        ref: tagTargetRef,\n        children: /*#__PURE__*/_jsxDEV(HelpIcon, {\n          ml: \"4px\",\n          width: \"20px\",\n          height: \"20px\",\n          color: \"textSubtle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ActionContainer, {\n      children: [showSubtitle && /*#__PURE__*/_jsxDEV(Text, {\n        mt: \"4px\",\n        mb: \"16px\",\n        color: \"textSubtle\",\n        children: isAutoVault ? t('Automatic restaking') : `${t('Earn')} CAKE ${t('Stake').toLocaleLowerCase()} CAKE`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Harvest, { ...pool,\n        userDataLoaded: userDataLoaded\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stake, {\n        pool: pool,\n        userDataLoaded: userDataLoaded\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ActionPanel, \"4/SgsDRYg/MX2pPAM5Vi/3l3cEE=\", false, function () {\n  return [useTranslation, useBlock, useCakeVault, useTooltip, useTooltip];\n});\n\n_c4 = ActionPanel;\nexport default ActionPanel;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"StyledActionPanel\");\n$RefreshReg$(_c2, \"ActionContainer\");\n$RefreshReg$(_c3, \"InfoSection\");\n$RefreshReg$(_c4, \"ActionPanel\");","map":{"version":3,"sources":["/home/kodachi/Desktop/Frontend1/Frontend1/src/views/Pools/components/PoolsTable/ActionPanel/ActionPanel.tsx"],"names":["React","styled","keyframes","css","Box","Button","Flex","HelpIcon","Link","LinkExternal","MetamaskIcon","Skeleton","Text","TimerIcon","useTooltip","BASE_BSC_SCAN_URL","BASE_URL","getBscScanBlockCountdownUrl","useBlock","useCakeVault","BigNumber","useTranslation","Balance","CompoundingPoolTag","ManualPoolTag","getAddress","getCakeVaultAddress","registerToken","getBalanceNumber","getFullDisplayBalance","getPoolBlockInfo","Harvest","Stake","Apr","expandAnimation","collapseAnimation","StyledActionPanel","div","expanded","theme","colors","dropdown","mediaQueries","lg","ActionContainer","sm","InfoSection","ActionPanel","account","pool","userDataLoaded","breakpoints","sousId","stakingToken","earningToken","totalStaked","startBlock","endBlock","stakingLimit","contractAddress","isAutoVault","t","poolContractAddress","cakeVaultContractAddress","currentBlock","isXs","isSm","isMd","showSubtitle","shouldShowBlockCountdown","blocksUntilStart","blocksRemaining","hasPoolStarted","blocksToDisplay","isMetaMaskInScope","window","ethereum","isMetaMask","tokenAddress","address","imageSrc","totalCakeInVault","fees","performanceFee","performanceFeeAsDecimal","isManualCakePool","getTotalStakedBalance","decimals","manualCakeTotalMinusAutoVault","minus","targetRef","totalStakedTargetRef","tooltip","totalStakedTooltip","tooltipVisible","totalStakedTooltipVisible","symbol","placement","manualTooltipText","autoTooltipText","tagTargetRef","tagTooltip","tagTooltipVisible","maxStakeRow","gt","blocksRow","aprRow","totalStakedRow","gte","projectLink","toLocaleLowerCase"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled, { keyframes, css } from 'styled-components'\nimport {\n  Box,\n  Button,\n  Flex,\n  HelpIcon,\n  Link,\n  LinkExternal,\n  MetamaskIcon,\n  Skeleton,\n  Text,\n  TimerIcon,\n  useTooltip,\n} from '@pancakeswap/uikit'\nimport { BASE_BSC_SCAN_URL, BASE_URL } from 'config'\nimport { getBscScanBlockCountdownUrl } from 'utils/bscscan'\nimport { useBlock, useCakeVault } from 'state/hooks'\nimport BigNumber from 'bignumber.js'\nimport { Pool } from 'state/types'\nimport { useTranslation } from 'contexts/Localization'\nimport Balance from 'components/Balance'\nimport { CompoundingPoolTag, ManualPoolTag } from 'components/Tags'\nimport { getAddress, getCakeVaultAddress } from 'utils/addressHelpers'\nimport { registerToken } from 'utils/wallet'\nimport { getBalanceNumber, getFullDisplayBalance } from 'utils/formatBalance'\nimport { getPoolBlockInfo } from 'views/Pools/helpers'\nimport Harvest from './Harvest'\nimport Stake from './Stake'\nimport Apr from '../Apr'\n\nconst expandAnimation = keyframes`\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 700px;\n  }\n`\n\nconst collapseAnimation = keyframes`\n  from {\n    max-height: 700px;\n  }\n  to {\n    max-height: 0px;\n  }\n`\n\nconst StyledActionPanel = styled.div<{ expanded: boolean }>`\n  animation: ${({ expanded }) =>\n    expanded\n      ? css`\n          ${expandAnimation} 300ms linear forwards\n        `\n      : css`\n          ${collapseAnimation} 300ms linear forwards\n        `};\n  overflow: hidden;\n  background: ${({ theme }) => theme.colors.dropdown};\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: center;\n  padding: 12px;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    flex-direction: row;\n    padding: 16px 32px;\n  }\n`\n\nconst ActionContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n    flex-basis: 0;\n  }\n`\n\ntype MediaBreakpoints = {\n  isXs: boolean\n  isSm: boolean\n  isMd: boolean\n  isLg: boolean\n  isXl: boolean\n}\n\ninterface ActionPanelProps {\n  account: string\n  pool: Pool\n  userDataLoaded: boolean\n  expanded: boolean\n  breakpoints: MediaBreakpoints\n}\n\nconst InfoSection = styled(Box)`\n  flex-grow: 0;\n  flex-shrink: 0;\n  flex-basis: auto;\n  padding: 8px 8px;\n  ${({ theme }) => theme.mediaQueries.lg} {\n    padding: 0;\n    flex-basis: 230px;\n  }\n`\n\nconst ActionPanel: React.FC<ActionPanelProps> = ({ account, pool, userDataLoaded, expanded, breakpoints }) => {\n  const {\n    sousId,\n    stakingToken,\n    earningToken,\n    totalStaked,\n    startBlock,\n    endBlock,\n    stakingLimit,\n    contractAddress,\n    isAutoVault,\n  } = pool\n  const { t } = useTranslation()\n  const poolContractAddress = getAddress(contractAddress)\n  const cakeVaultContractAddress = getCakeVaultAddress()\n  const { currentBlock } = useBlock()\n  const { isXs, isSm, isMd } = breakpoints\n  const showSubtitle = (isXs || isSm) && sousId === 0\n\n  const { shouldShowBlockCountdown, blocksUntilStart, blocksRemaining, hasPoolStarted, blocksToDisplay } =\n    getPoolBlockInfo(pool, currentBlock)\n\n  const isMetaMaskInScope = !!window.ethereum?.isMetaMask\n  const tokenAddress = earningToken.address ? getAddress(earningToken.address) : ''\n  const imageSrc = `${BASE_URL}/images/tokens/${tokenAddress}.png`\n\n  const {\n    totalCakeInVault,\n    fees: { performanceFee },\n  } = useCakeVault()\n\n  const performanceFeeAsDecimal = performanceFee && performanceFee / 100\n  const isManualCakePool = sousId === 0\n\n  const getTotalStakedBalance = () => {\n    if (isAutoVault) {\n      return getBalanceNumber(totalCakeInVault, stakingToken.decimals)\n    }\n    if (isManualCakePool) {\n      const manualCakeTotalMinusAutoVault = new BigNumber(totalStaked).minus(totalCakeInVault)\n      return getBalanceNumber(manualCakeTotalMinusAutoVault, stakingToken.decimals)\n    }\n    return getBalanceNumber(totalStaked, stakingToken.decimals)\n  }\n\n  const {\n    targetRef: totalStakedTargetRef,\n    tooltip: totalStakedTooltip,\n    tooltipVisible: totalStakedTooltipVisible,\n  } = useTooltip(t('Total amount of %symbol% staked in this pool', { symbol: stakingToken.symbol }), {\n    placement: 'bottom',\n  })\n\n  const manualTooltipText = t('You must harvest and compound your earnings from this pool manually.')\n  const autoTooltipText = t(\n    'Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you.',\n  )\n\n  const {\n    targetRef: tagTargetRef,\n    tooltip: tagTooltip,\n    tooltipVisible: tagTooltipVisible,\n  } = useTooltip(isAutoVault ? autoTooltipText : manualTooltipText, {\n    placement: 'bottom-start',\n  })\n\n  const maxStakeRow = stakingLimit.gt(0) ? (\n    <Flex mb=\"8px\" justifyContent=\"space-between\">\n      <Text>{t('Max. stake per user')}:</Text>\n      <Text>{`${getFullDisplayBalance(stakingLimit, stakingToken.decimals, 0)} ${stakingToken.symbol}`}</Text>\n    </Flex>\n  ) : null\n\n  const blocksRow =\n    blocksRemaining || blocksUntilStart ? (\n      <Flex mb=\"8px\" justifyContent=\"space-between\">\n        <Text>{hasPoolStarted ? t('Ends in') : t('Starts in')}:</Text>\n        <Flex>\n          <Link external href={getBscScanBlockCountdownUrl(hasPoolStarted ? endBlock : startBlock)}>\n            <Balance fontSize=\"16px\" value={blocksToDisplay} decimals={0} color=\"primary\" />\n            <Text ml=\"4px\" color=\"primary\" textTransform=\"lowercase\">\n              {t('Blocks')}\n            </Text>\n            <TimerIcon ml=\"4px\" color=\"primary\" />\n          </Link>\n        </Flex>\n      </Flex>\n    ) : (\n      <Skeleton width=\"56px\" height=\"16px\" />\n    )\n\n  const aprRow = (\n    <Flex justifyContent=\"space-between\" alignItems=\"center\" mb=\"8px\">\n      <Text>{isAutoVault ? t('APY') : t('APR')}:</Text>\n      <Apr pool={pool} showIcon performanceFee={isAutoVault ? performanceFeeAsDecimal : 0} />\n    </Flex>\n  )\n\n  const totalStakedRow = (\n    <Flex justifyContent=\"space-between\" alignItems=\"center\" mb=\"8px\">\n      <Text maxWidth={['50px', '100%']}>{t('Total staked')}:</Text>\n      <Flex alignItems=\"center\">\n        {totalStaked && totalStaked.gte(0) ? (\n          <>\n            <Balance fontSize=\"16px\" value={getTotalStakedBalance()} decimals={0} unit={` ${stakingToken.symbol}`} />\n            <span ref={totalStakedTargetRef}>\n              <HelpIcon color=\"textSubtle\" width=\"20px\" ml=\"4px\" />\n            </span>\n          </>\n        ) : (\n          <Skeleton width=\"56px\" height=\"16px\" />\n        )}\n        {totalStakedTooltipVisible && totalStakedTooltip}\n      </Flex>\n    </Flex>\n  )\n\n  return (\n    <StyledActionPanel expanded={expanded}>\n      <InfoSection>\n        {maxStakeRow}\n        {(isXs || isSm) && aprRow}\n        {(isXs || isSm || isMd) && totalStakedRow}\n        {shouldShowBlockCountdown && blocksRow}\n        <Flex mb=\"8px\" justifyContent={['flex-end', 'flex-end', 'flex-start']}>\n          <LinkExternal href={`https://pancakeswap.info/token/${getAddress(earningToken.address)}`} bold={false}>\n            {t('See Token Info')}\n          </LinkExternal>\n        </Flex>\n        <Flex mb=\"8px\" justifyContent={['flex-end', 'flex-end', 'flex-start']}>\n          <LinkExternal href={earningToken.projectLink} bold={false}>\n            {t('View Project Site')}\n          </LinkExternal>\n        </Flex>\n        {poolContractAddress && (\n          <Flex mb=\"8px\" justifyContent={['flex-end', 'flex-end', 'flex-start']}>\n            <LinkExternal\n              href={`${BASE_BSC_SCAN_URL}/address/${isAutoVault ? cakeVaultContractAddress : poolContractAddress}`}\n              bold={false}\n            >\n              {t('View Contract')}\n            </LinkExternal>\n          </Flex>\n        )}\n        {account && isMetaMaskInScope && tokenAddress && (\n          <Flex mb=\"8px\" justifyContent={['flex-end', 'flex-end', 'flex-start']}>\n            <Button\n              variant=\"text\"\n              p=\"0\"\n              height=\"auto\"\n              onClick={() => registerToken(tokenAddress, earningToken.symbol, earningToken.decimals, imageSrc)}\n            >\n              <Text color=\"primary\">{t('Add to Metamask')}</Text>\n              <MetamaskIcon ml=\"4px\" />\n            </Button>\n          </Flex>\n        )}\n        {isAutoVault ? <CompoundingPoolTag /> : <ManualPoolTag />}\n        {tagTooltipVisible && tagTooltip}\n        <span ref={tagTargetRef}>\n          <HelpIcon ml=\"4px\" width=\"20px\" height=\"20px\" color=\"textSubtle\" />\n        </span>\n      </InfoSection>\n      <ActionContainer>\n        {showSubtitle && (\n          <Text mt=\"4px\" mb=\"16px\" color=\"textSubtle\">\n            {isAutoVault ? t('Automatic restaking') : `${t('Earn')} CAKE ${t('Stake').toLocaleLowerCase()} CAKE`}\n          </Text>\n        )}\n        <Harvest {...pool} userDataLoaded={userDataLoaded} />\n        <Stake pool={pool} userDataLoaded={userDataLoaded} />\n      </ActionContainer>\n    </StyledActionPanel>\n  )\n}\n\nexport default ActionPanel\n"]},"metadata":{},"sourceType":"module"}