{"ast":null,"code":"import _slicedToArray from\"/home/kodachi/Desktop/Frontend1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef}from'react';import{useWeb3React}from'@web3-react/core';import{Helmet}from'react-helmet-async';import{useMatchBreakpoints,useModal}from'@pancakeswap/uikit';import{useAppDispatch}from'state';import{useGetPredictionsStatus,useInitialBlock,useIsChartPaneOpen}from'state/hooks';import{initializePredictions}from'state/predictions';import{PredictionStatus}from'state/types';import usePersistState from'hooks/usePersistState';import PageLoader from'components/PageLoader';import usePollOraclePrice from'./hooks/usePollOraclePrice';import usePollPredictions from'./hooks/usePollPredictions';import Container from'./components/Container';import CollectWinningsPopup from'./components/CollectWinningsPopup';import SwiperProvider from'./context/SwiperProvider';import Desktop from'./Desktop';import Mobile from'./Mobile';import RiskDisclaimer from'./components/RiskDisclaimer';import ChartDisclaimer from'./components/ChartDisclaimer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Predictions=function Predictions(){var _useMatchBreakpoints=useMatchBreakpoints(),isXl=_useMatchBreakpoints.isXl;var _usePersistState=usePersistState(false,{localStorageKey:'pancake_predictions_accepted_risk'}),_usePersistState2=_slicedToArray(_usePersistState,2),hasAcceptedRisk=_usePersistState2[0],setHasAcceptedRisk=_usePersistState2[1];var _usePersistState3=usePersistState(false,{localStorageKey:'pancake_predictions_chart'}),_usePersistState4=_slicedToArray(_usePersistState3,2),hasAcceptedChart=_usePersistState4[0],setHasAcceptedChart=_usePersistState4[1];var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var status=useGetPredictionsStatus();var isChartPaneOpen=useIsChartPaneOpen();var dispatch=useAppDispatch();var initialBlock=useInitialBlock();var isDesktop=isXl;var handleAcceptRiskSuccess=function handleAcceptRiskSuccess(){return setHasAcceptedRisk(true);};var handleAcceptChart=function handleAcceptChart(){return setHasAcceptedChart(true);};var _useModal=useModal(/*#__PURE__*/_jsx(RiskDisclaimer,{onSuccess:handleAcceptRiskSuccess}),false),_useModal2=_slicedToArray(_useModal,1),onPresentRiskDisclaimer=_useModal2[0];var _useModal3=useModal(/*#__PURE__*/_jsx(ChartDisclaimer,{onSuccess:handleAcceptChart}),false),_useModal4=_slicedToArray(_useModal3,1),onPresentChartDisclaimer=_useModal4[0];// TODO: memoize modal's handlers\nvar onPresentRiskDisclaimerRef=useRef(onPresentRiskDisclaimer);var onPresentChartDisclaimerRef=useRef(onPresentChartDisclaimer);// Disclaimer\nuseEffect(function(){if(!hasAcceptedRisk){onPresentRiskDisclaimerRef.current();}},[hasAcceptedRisk,onPresentRiskDisclaimerRef]);// Chart Disclaimer\nuseEffect(function(){if(!hasAcceptedChart&&isChartPaneOpen){onPresentChartDisclaimerRef.current();}},[onPresentChartDisclaimerRef,hasAcceptedChart,isChartPaneOpen]);useEffect(function(){if(initialBlock>0){// Do not start initialization until the first block has been retrieved\ndispatch(initializePredictions(account));}},[initialBlock,dispatch,account]);usePollPredictions();usePollOraclePrice();if(status===PredictionStatus.INITIAL){return/*#__PURE__*/_jsx(PageLoader,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"script\",{src:\"https://s3.tradingview.com/tv.js\",type:\"text/javascript\",id:\"tradingViewWidget\"})}),/*#__PURE__*/_jsx(SwiperProvider,{children:/*#__PURE__*/_jsxs(Container,{children:[isDesktop?/*#__PURE__*/_jsx(Desktop,{}):/*#__PURE__*/_jsx(Mobile,{}),/*#__PURE__*/_jsx(CollectWinningsPopup,{})]})})]});};export default Predictions;","map":{"version":3,"sources":["/home/kodachi/Desktop/Frontend1/src/views/Predictions/index.tsx"],"names":["React","useEffect","useRef","useWeb3React","Helmet","useMatchBreakpoints","useModal","useAppDispatch","useGetPredictionsStatus","useInitialBlock","useIsChartPaneOpen","initializePredictions","PredictionStatus","usePersistState","PageLoader","usePollOraclePrice","usePollPredictions","Container","CollectWinningsPopup","SwiperProvider","Desktop","Mobile","RiskDisclaimer","ChartDisclaimer","Predictions","isXl","localStorageKey","hasAcceptedRisk","setHasAcceptedRisk","hasAcceptedChart","setHasAcceptedChart","account","status","isChartPaneOpen","dispatch","initialBlock","isDesktop","handleAcceptRiskSuccess","handleAcceptChart","onPresentRiskDisclaimer","onPresentChartDisclaimer","onPresentRiskDisclaimerRef","onPresentChartDisclaimerRef","current","INITIAL"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { Helmet } from 'react-helmet-async'\nimport { useMatchBreakpoints, useModal } from '@pancakeswap/uikit'\nimport { useAppDispatch } from 'state'\nimport { useGetPredictionsStatus, useInitialBlock, useIsChartPaneOpen } from 'state/hooks'\nimport { initializePredictions } from 'state/predictions'\nimport { PredictionStatus } from 'state/types'\nimport usePersistState from 'hooks/usePersistState'\nimport PageLoader from 'components/PageLoader'\nimport usePollOraclePrice from './hooks/usePollOraclePrice'\nimport usePollPredictions from './hooks/usePollPredictions'\nimport Container from './components/Container'\nimport CollectWinningsPopup from './components/CollectWinningsPopup'\nimport SwiperProvider from './context/SwiperProvider'\nimport Desktop from './Desktop'\nimport Mobile from './Mobile'\nimport RiskDisclaimer from './components/RiskDisclaimer'\nimport ChartDisclaimer from './components/ChartDisclaimer'\n\nconst Predictions = () => {\n  const { isXl } = useMatchBreakpoints()\n  const [hasAcceptedRisk, setHasAcceptedRisk] = usePersistState(false, {\n    localStorageKey: 'pancake_predictions_accepted_risk',\n  })\n  const [hasAcceptedChart, setHasAcceptedChart] = usePersistState(false, {\n    localStorageKey: 'pancake_predictions_chart',\n  })\n  const { account } = useWeb3React()\n  const status = useGetPredictionsStatus()\n  const isChartPaneOpen = useIsChartPaneOpen()\n  const dispatch = useAppDispatch()\n  const initialBlock = useInitialBlock()\n  const isDesktop = isXl\n  const handleAcceptRiskSuccess = () => setHasAcceptedRisk(true)\n  const handleAcceptChart = () => setHasAcceptedChart(true)\n  const [onPresentRiskDisclaimer] = useModal(<RiskDisclaimer onSuccess={handleAcceptRiskSuccess} />, false)\n  const [onPresentChartDisclaimer] = useModal(<ChartDisclaimer onSuccess={handleAcceptChart} />, false)\n\n  // TODO: memoize modal's handlers\n  const onPresentRiskDisclaimerRef = useRef(onPresentRiskDisclaimer)\n  const onPresentChartDisclaimerRef = useRef(onPresentChartDisclaimer)\n\n  // Disclaimer\n  useEffect(() => {\n    if (!hasAcceptedRisk) {\n      onPresentRiskDisclaimerRef.current()\n    }\n  }, [hasAcceptedRisk, onPresentRiskDisclaimerRef])\n\n  // Chart Disclaimer\n  useEffect(() => {\n    if (!hasAcceptedChart && isChartPaneOpen) {\n      onPresentChartDisclaimerRef.current()\n    }\n  }, [onPresentChartDisclaimerRef, hasAcceptedChart, isChartPaneOpen])\n\n  useEffect(() => {\n    if (initialBlock > 0) {\n      // Do not start initialization until the first block has been retrieved\n      dispatch(initializePredictions(account))\n    }\n  }, [initialBlock, dispatch, account])\n\n  usePollPredictions()\n  usePollOraclePrice()\n\n  if (status === PredictionStatus.INITIAL) {\n    return <PageLoader />\n  }\n\n  return (\n    <>\n      <Helmet>\n        <script src=\"https://s3.tradingview.com/tv.js\" type=\"text/javascript\" id=\"tradingViewWidget\" />\n      </Helmet>\n      <SwiperProvider>\n        <Container>\n          {isDesktop ? <Desktop /> : <Mobile />}\n          <CollectWinningsPopup />\n        </Container>\n      </SwiperProvider>\n    </>\n  )\n}\n\nexport default Predictions\n"]},"metadata":{},"sourceType":"module"}