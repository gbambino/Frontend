{"ast":null,"code":"var _jsxFileName = \"/home/kodachi/Desktop/Frontend1/src/views/TradingCompetition/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'contexts/Localization';\nimport { useWeb3React } from '@web3-react/core';\nimport { useProfile } from 'state/hooks';\nimport { Flex, Box, Image } from '@pancakeswap/uikit';\nimport styled from 'styled-components';\nimport { useTradingCompetitionContract } from 'hooks/useContract';\nimport useTheme from 'hooks/useTheme';\nimport { SmartContractPhases, CompetitionPhases, LIVE, FINISHED, CLAIM, OVER, REGISTRATION } from 'config/constants/trading-competition/easterPhases';\nimport PageSection from 'components/PageSection';\nimport { DARKBG, DARKFILL, MIDBLUEBG, MIDBLUEBG_DARK, MIDBLUEFILL, MIDBLUEFILL_DARK, LIGHTBLUEBG, LIGHTBLUEBG_DARK, LIGHTBLUEFILL, LIGHTBLUEFILL_DARK } from './pageSectionStyles';\nimport { PrizesIcon, RanksIcon, RulesIcon } from './svgs';\nimport Countdown from './components/Countdown';\nimport YourScore from './components/YourScore';\nimport StormBunny from './pngs/storm.png';\nimport RibbonWithImage from './components/RibbonWithImage';\nimport HowToJoin from './components/HowToJoin';\nimport BattleBanner from './components/BattleBanner';\nimport BattleCta from './components/BattleCta';\nimport PrizesInfo from './components/PrizesInfo';\nimport Rules from './components/Rules';\nimport TeamRanks from './components/TeamRanks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CompetitionPage = styled.div`\n  min-height: calc(100vh - 64px);\n`;\n_c = CompetitionPage;\nconst BannerFlex = styled(Flex)`\n  flex-direction: column;\n  ${({\n  theme\n}) => theme.mediaQueries.xl} {\n    padding-top: 10px;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n  }\n\n  @media screen and (min-width: 1920px) {\n    padding-top: 32px;\n  }\n`;\n_c2 = BannerFlex;\nconst BattleBannerSection = styled(PageSection)`\n  margin-top: -32px;\n  ${({\n  theme\n}) => theme.mediaQueries.lg} {\n    margin-top: -64px;\n  }\n`;\n_c3 = BattleBannerSection;\nconst YourScoreSection = styled(PageSection)`\n  margin-top: -32px;\n  ${({\n  theme\n}) => theme.mediaQueries.lg} {\n    margin-top: -64px;\n  }\n`;\n_c4 = YourScoreSection;\nconst PrizesSection = styled(PageSection)`\n  margin: -32px 0;\n  ${({\n  theme\n}) => theme.mediaQueries.lg} {\n    margin: -64px 0;\n  }\n`;\n_c5 = PrizesSection;\nconst BottomBunnyWrapper = styled(Box)`\n  display: none;\n\n  ${({\n  theme\n}) => theme.mediaQueries.md} {\n    display: flex;\n    margin-left: 40px;\n    width: 147px;\n    height: 200px;\n  }\n`;\n_c6 = BottomBunnyWrapper;\n\nconst TradingCompetition = () => {\n  _s();\n\n  const profileApiUrl = process.env.REACT_APP_API_PROFILE;\n  const {\n    account\n  } = useWeb3React();\n  const {\n    t\n  } = useTranslation();\n  const {\n    profile,\n    isLoading\n  } = useProfile();\n  const {\n    isDark\n  } = useTheme();\n  const tradingCompetitionContract = useTradingCompetitionContract();\n  const [currentPhase, setCurrentPhase] = useState(CompetitionPhases.LIVE);\n  const [registrationSuccessful, setRegistrationSuccessful] = useState(false);\n  const [claimSuccessful, setClaimSuccessful] = useState(false);\n  const [userTradingInformation, setUserTradingInformation] = useState({\n    hasRegistered: false,\n    hasUserClaimed: false,\n    userRewardGroup: '0',\n    userCakeRewards: '0',\n    userPointReward: '0',\n    canClaimNFT: false\n  });\n  const [globalLeaderboardInformation, setGlobalLeaderboardInformation] = useState(null);\n  const [userLeaderboardInformation, setUserLeaderboardInformation] = useState({\n    global: 0,\n    team: 0,\n    volume: 0,\n    next_rank: 0\n  }); // 1. Storm\n\n  const [team1LeaderboardInformation, setTeam1LeaderboardInformation] = useState({\n    teamId: 1,\n    leaderboardData: null\n  }); // 2. Flippers\n\n  const [team2LeaderboardInformation, setTeam2LeaderboardInformation] = useState({\n    teamId: 2,\n    leaderboardData: null\n  }); // 3. Cakers\n\n  const [team3LeaderboardInformation, setTeam3LeaderboardInformation] = useState({\n    teamId: 3,\n    leaderboardData: null\n  });\n  const isCompetitionLive = currentPhase.state === LIVE;\n  const hasCompetitionEnded = currentPhase.state === FINISHED || currentPhase.state === CLAIM || currentPhase.state === OVER;\n  const {\n    hasUserClaimed,\n    userCakeRewards,\n    userPointReward,\n    canClaimNFT\n  } = userTradingInformation;\n  const userCanClaimPrizes = currentPhase.state === CLAIM && !hasUserClaimed && (userCakeRewards !== '0' || userPointReward !== '0' || canClaimNFT);\n  const finishedAndPrizesClaimed = hasCompetitionEnded && account && hasUserClaimed;\n  const finishedAndNothingToClaim = hasCompetitionEnded && account && !userCanClaimPrizes;\n\n  const onRegisterSuccess = () => {\n    setRegistrationSuccessful(true);\n  };\n\n  const onClaimSuccess = () => {\n    setClaimSuccessful(true);\n  };\n\n  useEffect(() => {\n    const fetchCompetitionInfoContract = async () => {\n      const competitionStatus = await tradingCompetitionContract.currentStatus();\n      setCurrentPhase(SmartContractPhases[competitionStatus]);\n    };\n\n    const fetchUserContract = async () => {\n      const user = await tradingCompetitionContract.claimInformation(account);\n      const userObject = {\n        hasRegistered: user[0],\n        hasUserClaimed: user[1],\n        userRewardGroup: user[2].toString(),\n        userCakeRewards: user[3].toString(),\n        userPointReward: user[4].toString(),\n        canClaimNFT: user[5]\n      };\n      setUserTradingInformation(userObject);\n    };\n\n    if (account) {\n      fetchUserContract();\n    } else {\n      setUserTradingInformation({\n        hasRegistered: false,\n        hasUserClaimed: false,\n        userRewardGroup: '0',\n        userCakeRewards: '0',\n        userPointReward: '0',\n        canClaimNFT: false\n      });\n    }\n\n    fetchCompetitionInfoContract();\n  }, [account, registrationSuccessful, claimSuccessful, tradingCompetitionContract]);\n  useEffect(() => {\n    const fetchUserTradingStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/users/${account}`);\n      const data = await res.json();\n      setUserLeaderboardInformation(data.leaderboard);\n    }; // If user has not registered, user trading information will not be displayed and should not be fetched\n\n\n    if (account && userTradingInformation.hasRegistered) {\n      fetchUserTradingStats();\n    }\n  }, [account, userTradingInformation, profileApiUrl]);\n  useEffect(() => {\n    const fetchGlobalLeaderboardStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/leaderboard/global`);\n      const data = await res.json();\n      setGlobalLeaderboardInformation(data);\n    };\n\n    const fetchTeamsLeaderboardStats = async (teamId, callBack) => {\n      try {\n        const res = await fetch(`${profileApiUrl}/api/leaderboard/team/${teamId}`);\n        const data = await res.json();\n        callBack(data);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n\n    fetchTeamsLeaderboardStats(1, data => setTeam1LeaderboardInformation(prevState => {\n      return { ...prevState,\n        leaderboardData: data\n      };\n    }));\n    fetchTeamsLeaderboardStats(2, data => setTeam2LeaderboardInformation(prevState => {\n      return { ...prevState,\n        leaderboardData: data\n      };\n    }));\n    fetchTeamsLeaderboardStats(3, data => setTeam3LeaderboardInformation(prevState => {\n      return { ...prevState,\n        leaderboardData: data\n      };\n    }));\n    fetchGlobalLeaderboardStats();\n  }, [profileApiUrl]); // Don't hide when loading. Hide if the account is connected && the user hasn't registered && the competition is live or finished\n\n  const shouldHideCta = !isLoading && account && !userTradingInformation.hasRegistered && (isCompetitionLive || hasCompetitionEnded);\n  return /*#__PURE__*/_jsxDEV(CompetitionPage, {\n    children: [/*#__PURE__*/_jsxDEV(BattleBannerSection, {\n      background: DARKBG,\n      svgFill: DARKFILL,\n      index: 5,\n      dividerComponent: shouldHideCta ? null : /*#__PURE__*/_jsxDEV(BattleCta, {\n        userTradingInformation: userTradingInformation,\n        currentPhase: currentPhase,\n        account: account,\n        isCompetitionLive: isCompetitionLive,\n        hasCompetitionEnded: hasCompetitionEnded,\n        userCanClaimPrizes: userCanClaimPrizes,\n        finishedAndPrizesClaimed: finishedAndPrizesClaimed,\n        finishedAndNothingToClaim: finishedAndNothingToClaim,\n        profile: profile,\n        isLoading: isLoading,\n        onRegisterSuccess: onRegisterSuccess,\n        onClaimSuccess: onClaimSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(BannerFlex, {\n        mb: shouldHideCta ? '0px' : '48px',\n        children: [/*#__PURE__*/_jsxDEV(Countdown, {\n          currentPhase: currentPhase,\n          hasCompetitionEnded: hasCompetitionEnded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BattleBanner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(YourScoreSection, {\n      background: isDark ? MIDBLUEBG_DARK : MIDBLUEBG,\n      svgFill: isDark ? MIDBLUEFILL_DARK : MIDBLUEFILL,\n      index: 4,\n      dividerComponent: /*#__PURE__*/_jsxDEV(RibbonWithImage, {\n        imageComponent: /*#__PURE__*/_jsxDEV(RanksIcon, {\n          width: \"175px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 44\n        }, this),\n        ribbonDirection: \"up\",\n        children: t('Team Ranks')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        mt: shouldHideCta ? '0px' : ['94px', null, '36px'],\n        mb: ['24px', null, '0'],\n        children: currentPhase.state === REGISTRATION ? /*#__PURE__*/_jsxDEV(HowToJoin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(YourScore, {\n          currentPhase: currentPhase,\n          hasRegistered: userTradingInformation.hasRegistered,\n          userTradingInformation: userTradingInformation,\n          account: account,\n          profile: profile,\n          isLoading: isLoading,\n          userLeaderboardInformation: userLeaderboardInformation,\n          userCanClaimPrizes: userCanClaimPrizes,\n          finishedAndPrizesClaimed: finishedAndPrizesClaimed,\n          finishedAndNothingToClaim: finishedAndNothingToClaim,\n          onClaimSuccess: onClaimSuccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageSection, {\n      index: 3,\n      dividerComponent: /*#__PURE__*/_jsxDEV(RibbonWithImage, {\n        imageComponent: /*#__PURE__*/_jsxDEV(PrizesIcon, {\n          width: \"175px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 44\n        }, this),\n        ribbonDirection: \"up\",\n        children: t('Prizes')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        mt: \"54px\",\n        children: /*#__PURE__*/_jsxDEV(TeamRanks, {\n          team1LeaderboardInformation: team1LeaderboardInformation,\n          team2LeaderboardInformation: team2LeaderboardInformation,\n          team3LeaderboardInformation: team3LeaderboardInformation,\n          globalLeaderboardInformation: globalLeaderboardInformation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PrizesSection, {\n      background: isDark ? LIGHTBLUEBG_DARK : LIGHTBLUEBG,\n      svgFill: isDark ? LIGHTBLUEFILL_DARK : LIGHTBLUEFILL,\n      index: 2,\n      hasCurvedDivider: false,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        my: \"64px\",\n        children: /*#__PURE__*/_jsxDEV(PrizesInfo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageSection, {\n      index: 3,\n      curvePosition: \"top\",\n      dividerComponent: /*#__PURE__*/_jsxDEV(RibbonWithImage, {\n        imageComponent: /*#__PURE__*/_jsxDEV(RulesIcon, {\n          width: \"175px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 44\n        }, this),\n        ribbonDirection: \"up\",\n        children: t('Rules')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        mt: \"32px\",\n        children: /*#__PURE__*/_jsxDEV(Rules, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageSection, {\n      background: DARKBG,\n      svgFill: DARKFILL,\n      index: 4,\n      curvePosition: \"top\",\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        children: [shouldHideCta ? null : /*#__PURE__*/_jsxDEV(Flex, {\n          height: \"fit-content\",\n          children: /*#__PURE__*/_jsxDEV(BattleCta, {\n            userTradingInformation: userTradingInformation,\n            currentPhase: currentPhase,\n            account: account,\n            isCompetitionLive: isCompetitionLive,\n            hasCompetitionEnded: hasCompetitionEnded,\n            userCanClaimPrizes: userCanClaimPrizes,\n            finishedAndPrizesClaimed: finishedAndPrizesClaimed,\n            finishedAndNothingToClaim: finishedAndNothingToClaim,\n            profile: profile,\n            isLoading: isLoading,\n            onRegisterSuccess: onRegisterSuccess,\n            onClaimSuccess: onClaimSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(BottomBunnyWrapper, {\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: StormBunny,\n            width: 147,\n            height: 200\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TradingCompetition, \"iKQAW5T7G+AI0H1LiyfQgeqVjww=\", false, function () {\n  return [useWeb3React, useTranslation, useProfile, useTheme, useTradingCompetitionContract];\n});\n\n_c7 = TradingCompetition;\nexport default TradingCompetition;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"CompetitionPage\");\n$RefreshReg$(_c2, \"BannerFlex\");\n$RefreshReg$(_c3, \"BattleBannerSection\");\n$RefreshReg$(_c4, \"YourScoreSection\");\n$RefreshReg$(_c5, \"PrizesSection\");\n$RefreshReg$(_c6, \"BottomBunnyWrapper\");\n$RefreshReg$(_c7, \"TradingCompetition\");","map":{"version":3,"sources":["/home/kodachi/Desktop/Frontend1/src/views/TradingCompetition/index.tsx"],"names":["React","useState","useEffect","useTranslation","useWeb3React","useProfile","Flex","Box","Image","styled","useTradingCompetitionContract","useTheme","SmartContractPhases","CompetitionPhases","LIVE","FINISHED","CLAIM","OVER","REGISTRATION","PageSection","DARKBG","DARKFILL","MIDBLUEBG","MIDBLUEBG_DARK","MIDBLUEFILL","MIDBLUEFILL_DARK","LIGHTBLUEBG","LIGHTBLUEBG_DARK","LIGHTBLUEFILL","LIGHTBLUEFILL_DARK","PrizesIcon","RanksIcon","RulesIcon","Countdown","YourScore","StormBunny","RibbonWithImage","HowToJoin","BattleBanner","BattleCta","PrizesInfo","Rules","TeamRanks","CompetitionPage","div","BannerFlex","theme","mediaQueries","xl","BattleBannerSection","lg","YourScoreSection","PrizesSection","BottomBunnyWrapper","md","TradingCompetition","profileApiUrl","process","env","REACT_APP_API_PROFILE","account","t","profile","isLoading","isDark","tradingCompetitionContract","currentPhase","setCurrentPhase","registrationSuccessful","setRegistrationSuccessful","claimSuccessful","setClaimSuccessful","userTradingInformation","setUserTradingInformation","hasRegistered","hasUserClaimed","userRewardGroup","userCakeRewards","userPointReward","canClaimNFT","globalLeaderboardInformation","setGlobalLeaderboardInformation","userLeaderboardInformation","setUserLeaderboardInformation","global","team","volume","next_rank","team1LeaderboardInformation","setTeam1LeaderboardInformation","teamId","leaderboardData","team2LeaderboardInformation","setTeam2LeaderboardInformation","team3LeaderboardInformation","setTeam3LeaderboardInformation","isCompetitionLive","state","hasCompetitionEnded","userCanClaimPrizes","finishedAndPrizesClaimed","finishedAndNothingToClaim","onRegisterSuccess","onClaimSuccess","fetchCompetitionInfoContract","competitionStatus","currentStatus","fetchUserContract","user","claimInformation","userObject","toString","fetchUserTradingStats","res","fetch","data","json","leaderboard","fetchGlobalLeaderboardStats","fetchTeamsLeaderboardStats","callBack","e","console","error","prevState","shouldHideCta"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useTranslation } from 'contexts/Localization'\nimport { useWeb3React } from '@web3-react/core'\nimport { useProfile } from 'state/hooks'\nimport { Flex, Box, Image } from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport { useTradingCompetitionContract } from 'hooks/useContract'\nimport useTheme from 'hooks/useTheme'\nimport {\n  SmartContractPhases,\n  CompetitionPhases,\n  LIVE,\n  FINISHED,\n  CLAIM,\n  OVER,\n  REGISTRATION,\n} from 'config/constants/trading-competition/easterPhases'\nimport PageSection from 'components/PageSection'\nimport {\n  DARKBG,\n  DARKFILL,\n  MIDBLUEBG,\n  MIDBLUEBG_DARK,\n  MIDBLUEFILL,\n  MIDBLUEFILL_DARK,\n  LIGHTBLUEBG,\n  LIGHTBLUEBG_DARK,\n  LIGHTBLUEFILL,\n  LIGHTBLUEFILL_DARK,\n} from './pageSectionStyles'\nimport { PrizesIcon, RanksIcon, RulesIcon } from './svgs'\nimport Countdown from './components/Countdown'\nimport YourScore from './components/YourScore'\nimport StormBunny from './pngs/storm.png'\nimport RibbonWithImage from './components/RibbonWithImage'\nimport HowToJoin from './components/HowToJoin'\nimport BattleBanner from './components/BattleBanner'\nimport BattleCta from './components/BattleCta'\nimport PrizesInfo from './components/PrizesInfo'\nimport Rules from './components/Rules'\nimport TeamRanks from './components/TeamRanks'\n\nconst CompetitionPage = styled.div`\n  min-height: calc(100vh - 64px);\n`\n\nconst BannerFlex = styled(Flex)`\n  flex-direction: column;\n  ${({ theme }) => theme.mediaQueries.xl} {\n    padding-top: 10px;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n  }\n\n  @media screen and (min-width: 1920px) {\n    padding-top: 32px;\n  }\n`\n\nconst BattleBannerSection = styled(PageSection)`\n  margin-top: -32px;\n  ${({ theme }) => theme.mediaQueries.lg} {\n    margin-top: -64px;\n  }\n`\n\nconst YourScoreSection = styled(PageSection)`\n  margin-top: -32px;\n  ${({ theme }) => theme.mediaQueries.lg} {\n    margin-top: -64px;\n  }\n`\n\nconst PrizesSection = styled(PageSection)`\n  margin: -32px 0;\n  ${({ theme }) => theme.mediaQueries.lg} {\n    margin: -64px 0;\n  }\n`\n\nconst BottomBunnyWrapper = styled(Box)`\n  display: none;\n\n  ${({ theme }) => theme.mediaQueries.md} {\n    display: flex;\n    margin-left: 40px;\n    width: 147px;\n    height: 200px;\n  }\n`\n\nconst TradingCompetition = () => {\n  const profileApiUrl = process.env.REACT_APP_API_PROFILE\n  const { account } = useWeb3React()\n  const { t } = useTranslation()\n  const { profile, isLoading } = useProfile()\n  const { isDark } = useTheme()\n  const tradingCompetitionContract = useTradingCompetitionContract()\n  const [currentPhase, setCurrentPhase] = useState(CompetitionPhases.LIVE)\n  const [registrationSuccessful, setRegistrationSuccessful] = useState(false)\n  const [claimSuccessful, setClaimSuccessful] = useState(false)\n  const [userTradingInformation, setUserTradingInformation] = useState({\n    hasRegistered: false,\n    hasUserClaimed: false,\n    userRewardGroup: '0',\n    userCakeRewards: '0',\n    userPointReward: '0',\n    canClaimNFT: false,\n  })\n  const [globalLeaderboardInformation, setGlobalLeaderboardInformation] = useState(null)\n  const [userLeaderboardInformation, setUserLeaderboardInformation] = useState({\n    global: 0,\n    team: 0,\n    volume: 0,\n    next_rank: 0,\n  })\n  // 1. Storm\n  const [team1LeaderboardInformation, setTeam1LeaderboardInformation] = useState({ teamId: 1, leaderboardData: null })\n  // 2. Flippers\n  const [team2LeaderboardInformation, setTeam2LeaderboardInformation] = useState({ teamId: 2, leaderboardData: null })\n  // 3. Cakers\n  const [team3LeaderboardInformation, setTeam3LeaderboardInformation] = useState({ teamId: 3, leaderboardData: null })\n\n  const isCompetitionLive = currentPhase.state === LIVE\n  const hasCompetitionEnded =\n    currentPhase.state === FINISHED || currentPhase.state === CLAIM || currentPhase.state === OVER\n\n  const { hasUserClaimed, userCakeRewards, userPointReward, canClaimNFT } = userTradingInformation\n\n  const userCanClaimPrizes =\n    currentPhase.state === CLAIM &&\n    !hasUserClaimed &&\n    (userCakeRewards !== '0' || userPointReward !== '0' || canClaimNFT)\n  const finishedAndPrizesClaimed = hasCompetitionEnded && account && hasUserClaimed\n  const finishedAndNothingToClaim = hasCompetitionEnded && account && !userCanClaimPrizes\n\n  const onRegisterSuccess = () => {\n    setRegistrationSuccessful(true)\n  }\n\n  const onClaimSuccess = () => {\n    setClaimSuccessful(true)\n  }\n\n  useEffect(() => {\n    const fetchCompetitionInfoContract = async () => {\n      const competitionStatus = await tradingCompetitionContract.currentStatus()\n      setCurrentPhase(SmartContractPhases[competitionStatus])\n    }\n\n    const fetchUserContract = async () => {\n      const user = await tradingCompetitionContract.claimInformation(account)\n      const userObject = {\n        hasRegistered: user[0],\n        hasUserClaimed: user[1],\n        userRewardGroup: user[2].toString(),\n        userCakeRewards: user[3].toString(),\n        userPointReward: user[4].toString(),\n        canClaimNFT: user[5],\n      }\n      setUserTradingInformation(userObject)\n    }\n\n    if (account) {\n      fetchUserContract()\n    } else {\n      setUserTradingInformation({\n        hasRegistered: false,\n        hasUserClaimed: false,\n        userRewardGroup: '0',\n        userCakeRewards: '0',\n        userPointReward: '0',\n        canClaimNFT: false,\n      })\n    }\n    fetchCompetitionInfoContract()\n  }, [account, registrationSuccessful, claimSuccessful, tradingCompetitionContract])\n\n  useEffect(() => {\n    const fetchUserTradingStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/users/${account}`)\n      const data = await res.json()\n      setUserLeaderboardInformation(data.leaderboard)\n    }\n    // If user has not registered, user trading information will not be displayed and should not be fetched\n    if (account && userTradingInformation.hasRegistered) {\n      fetchUserTradingStats()\n    }\n  }, [account, userTradingInformation, profileApiUrl])\n\n  useEffect(() => {\n    const fetchGlobalLeaderboardStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/leaderboard/global`)\n      const data = await res.json()\n      setGlobalLeaderboardInformation(data)\n    }\n\n    const fetchTeamsLeaderboardStats = async (teamId: number, callBack: (data: any) => void) => {\n      try {\n        const res = await fetch(`${profileApiUrl}/api/leaderboard/team/${teamId}`)\n        const data = await res.json()\n        callBack(data)\n      } catch (e) {\n        console.error(e)\n      }\n    }\n\n    fetchTeamsLeaderboardStats(1, (data) =>\n      setTeam1LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchTeamsLeaderboardStats(2, (data) =>\n      setTeam2LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchTeamsLeaderboardStats(3, (data) =>\n      setTeam3LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchGlobalLeaderboardStats()\n  }, [profileApiUrl])\n\n  // Don't hide when loading. Hide if the account is connected && the user hasn't registered && the competition is live or finished\n  const shouldHideCta =\n    !isLoading && account && !userTradingInformation.hasRegistered && (isCompetitionLive || hasCompetitionEnded)\n\n  return (\n    <CompetitionPage>\n      <BattleBannerSection\n        background={DARKBG}\n        svgFill={DARKFILL}\n        index={5}\n        dividerComponent={\n          shouldHideCta ? null : (\n            <BattleCta\n              userTradingInformation={userTradingInformation}\n              currentPhase={currentPhase}\n              account={account}\n              isCompetitionLive={isCompetitionLive}\n              hasCompetitionEnded={hasCompetitionEnded}\n              userCanClaimPrizes={userCanClaimPrizes}\n              finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n              finishedAndNothingToClaim={finishedAndNothingToClaim}\n              profile={profile}\n              isLoading={isLoading}\n              onRegisterSuccess={onRegisterSuccess}\n              onClaimSuccess={onClaimSuccess}\n            />\n          )\n        }\n      >\n        <BannerFlex mb={shouldHideCta ? '0px' : '48px'}>\n          <Countdown currentPhase={currentPhase} hasCompetitionEnded={hasCompetitionEnded} />\n          <BattleBanner />\n        </BannerFlex>\n      </BattleBannerSection>\n      <YourScoreSection\n        background={isDark ? MIDBLUEBG_DARK : MIDBLUEBG}\n        svgFill={isDark ? MIDBLUEFILL_DARK : MIDBLUEFILL}\n        index={4}\n        dividerComponent={\n          <RibbonWithImage imageComponent={<RanksIcon width=\"175px\" />} ribbonDirection=\"up\">\n            {t('Team Ranks')}\n          </RibbonWithImage>\n        }\n      >\n        <Box mt={shouldHideCta ? '0px' : ['94px', null, '36px']} mb={['24px', null, '0']}>\n          {/* If competition has not yet started, render HowToJoin component - if not, render YourScore */}\n          {currentPhase.state === REGISTRATION ? (\n            <HowToJoin />\n          ) : (\n            <YourScore\n              currentPhase={currentPhase}\n              hasRegistered={userTradingInformation.hasRegistered}\n              userTradingInformation={userTradingInformation}\n              account={account}\n              profile={profile}\n              isLoading={isLoading}\n              userLeaderboardInformation={userLeaderboardInformation}\n              userCanClaimPrizes={userCanClaimPrizes}\n              finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n              finishedAndNothingToClaim={finishedAndNothingToClaim}\n              onClaimSuccess={onClaimSuccess}\n            />\n          )}\n        </Box>\n      </YourScoreSection>\n      <PageSection\n        index={3}\n        dividerComponent={\n          <RibbonWithImage imageComponent={<PrizesIcon width=\"175px\" />} ribbonDirection=\"up\">\n            {t('Prizes')}\n          </RibbonWithImage>\n        }\n      >\n        <Box mt=\"54px\">\n          <TeamRanks\n            team1LeaderboardInformation={team1LeaderboardInformation}\n            team2LeaderboardInformation={team2LeaderboardInformation}\n            team3LeaderboardInformation={team3LeaderboardInformation}\n            globalLeaderboardInformation={globalLeaderboardInformation}\n          />\n        </Box>\n      </PageSection>\n      <PrizesSection\n        background={isDark ? LIGHTBLUEBG_DARK : LIGHTBLUEBG}\n        svgFill={isDark ? LIGHTBLUEFILL_DARK : LIGHTBLUEFILL}\n        index={2}\n        hasCurvedDivider={false}\n      >\n        <Box my=\"64px\">\n          <PrizesInfo />\n        </Box>\n      </PrizesSection>\n      <PageSection\n        index={3}\n        curvePosition=\"top\"\n        dividerComponent={\n          <RibbonWithImage imageComponent={<RulesIcon width=\"175px\" />} ribbonDirection=\"up\">\n            {t('Rules')}\n          </RibbonWithImage>\n        }\n      >\n        <Box mt=\"32px\">\n          <Rules />\n        </Box>\n      </PageSection>\n      <PageSection background={DARKBG} svgFill={DARKFILL} index={4} curvePosition=\"top\">\n        <Flex alignItems=\"center\">\n          {shouldHideCta ? null : (\n            <Flex height=\"fit-content\">\n              <BattleCta\n                userTradingInformation={userTradingInformation}\n                currentPhase={currentPhase}\n                account={account}\n                isCompetitionLive={isCompetitionLive}\n                hasCompetitionEnded={hasCompetitionEnded}\n                userCanClaimPrizes={userCanClaimPrizes}\n                finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n                finishedAndNothingToClaim={finishedAndNothingToClaim}\n                profile={profile}\n                isLoading={isLoading}\n                onRegisterSuccess={onRegisterSuccess}\n                onClaimSuccess={onClaimSuccess}\n              />\n            </Flex>\n          )}\n          <BottomBunnyWrapper>\n            <Image src={StormBunny} width={147} height={200} />\n          </BottomBunnyWrapper>\n        </Flex>\n      </PageSection>\n    </CompetitionPage>\n  )\n}\n\nexport default TradingCompetition\n"]},"metadata":{},"sourceType":"module"}